<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MilliOhmMeter: MilliOhmMeter.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MilliOhmMeter
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">MilliOhm Meter Firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MilliOhmMeter.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_milli_ohm_meter_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef _MILLIOHMMETER_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _MILLIOHMMETER_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span><span class="comment">/***********************************************************************************************/</span><span class="comment">/**</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  \par        MilliOhmMeter Control Program - Header File.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  \file       MILLIOHMMETER.H</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  \author     J. F. Fitter &lt;jfitter@eagleairaust.com.au&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *  \version    1.0</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *  \date       July 2017</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  \copyright  Copyright (c) 2017 John Fitter.  All right reserved.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  \par        Changelog</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *              23jul2017  Initial release</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *  \par        License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *              This program is free software; you can redistribute it and/or modify it under</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *              the terms of the GNU Lesser General Public License as published by the Free</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *              Software Foundation; either version 2.1 of the License, or (at your option)</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *              any later version.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *  \par</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *              This Program is distributed in the hope that it will be useful, but WITHOUT ANY</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *              WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *              PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *              at http://www.gnu.org/copyleft/gpl.html</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *  \par</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *              You should have received a copy of the GNU Lesser General Public License along</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *              with this library; if not, write to the Free Software Foundation, Inc.,</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *              51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> */</span><span class="comment">/***********************************************************************************************/</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">//#define _DEBUG_</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#define __STDC_LIMIT_MACROS</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define __STDC_CONSTANT_MACROS</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define _DEVICENAME_        MilliOhm Meter        </span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _PROGNAME_          Control Firmware      </span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _AUTHOR_            J.F.Fitter  </span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _VERSION_MAJOR_     1</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _VERSION_MINOR_     0</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _REVISION_          0</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _DATE_              25jul2017</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _COPYRIGHT_         2017      </span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _COMPANY_           Eagle Air Australia p/l</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// Usefull macros.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#define str(s)              #s</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define xstr(s)             str(s)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define sqr(x)              ((x)*(x))</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// Communications definitions.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a734bbab06e1a9fd2e5522db0221ff6e3">   52</a></span>&#160;<span class="preprocessor">#define BAUDRATE            115200                      </span><span class="comment">/**&lt; Serial comms data bit rate (bps)*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// Hardware definitions.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#af84d16fb66a29e9dccb1f0ba8b125c28">   55</a></span>&#160;<span class="preprocessor">#define CHG_PIN             6                           </span><span class="comment">/**&lt; Charging status pin */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ad177eb2aee67e7dc7e37052ed0f25a70">   56</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define STBY_PIN            7                           </span><span class="comment">/**&lt; Standby status pin */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a72ea70ff48f021564a5f5d19a1cff0de">   57</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_BL_PIN          3                           </span><span class="comment">/**&lt; LCD backlight pin */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a402d8ccd0bb0a6cc377222e75b8e050e">   58</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_DC_PIN          2                           </span><span class="comment">/**&lt; SD card select pin ?????? */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a9d11073f149e02e0a07937196d1e5a8e">   59</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_RST_PIN         4                           </span><span class="comment">/**&lt; LCD reset pin */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a50d72083b1ed4dd0bc2eaabb4a0332c8">   60</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_CS_PIN          5                           </span><span class="comment">/**&lt; LCD selsect pin */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a84febe43bb09c2bd644375ce81e3896f">   61</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define RES_TEST_CURRENT    0.1                         </span><span class="comment">/**&lt; Resistance test current (A) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a0dc986c8198e3dd9a3abaea381a2d1cf">   62</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DIFF_AMP_GAIN       10.0                        </span><span class="comment">/**&lt; Differential amplifier gain */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// Data filtering definitions.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a7dddd43f2fe08d6832126d0ba1c8e114">   65</a></span>&#160;<span class="preprocessor">#define FILTERWT_RESS       80                          </span><span class="comment">/**&lt; Resistance soft filter strength (100 = min) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a92584de1b7c70efb9de836df0e31be01">   66</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define FILTERWT_RESH       10                          </span><span class="comment">/**&lt; Resistance hard filter strength */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ae3dabb4f439d147d5db3b83e85adf0b8">   67</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define FILTERWT_DEV        10                          </span><span class="comment">/**&lt; Deviation filter strength */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// Sample and display rate definitions.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a0f4e1d51f12685a4471aab2361b7a1b8">   70</a></span>&#160;<span class="preprocessor">#define RES_SAMPLE_RATE     50                          </span><span class="comment">/**&lt; Resistance sample rate (sps) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a747836b01fb5e3b3ce8d5a1a98c5a916">   71</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_SAMPLE_RATE     1                           </span><span class="comment">/**&lt; Battery voltage sample rate (sps) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a2cc4e9b539c897e2cb8c72332ea120f8">   72</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_REFRESH_RATE    3                           </span><span class="comment">/**&lt; LCD frame refresh rate (fps) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// LCD geometry definitions.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a19693eac3018d3e7800fde141921b812">   75</a></span>&#160;<span class="preprocessor">#define LCD_WIDTH           320                         </span><span class="comment">/**&lt; LCD width in pixels */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a53a8b2a971de4b88047192655a48b651">   76</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_HEIGHT          240                         </span><span class="comment">/**&lt; LCD height in pixels */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#aaeccee6d106f8e847c96a3d0d45a60b2">   77</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_LR_MARGIN       10                          </span><span class="comment">/**&lt; LCD Screen left/right margins */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a92ceea45500c999f0b0b59e6561507f7">   78</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_TB_MARGIN       10                          </span><span class="comment">/**&lt; LCD Screen top/bottom margins */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#define LCD_LEFT            LCD_LR_MARGIN</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_RIGHT           (LCD_WIDTH-LCD_LR_MARGIN)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_TOP             LCD_TB_MARGIN</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_BOTTOM          (LCD_HEIGHT-LCD_TB_MARGIN)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_XCENTER         ((LCD_LEFT+LCD_RIGHT)/2)</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_YCENTER         ((LCD_TOP+LCD_BOTTOM)/2)</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// LCD management definitions.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a9a02a343a6520331fa0550284a230085">   88</a></span>&#160;<span class="preprocessor">#define LCD_DEF_BL_LEVEL    60                          </span><span class="comment">/**&lt; Backlight intensity % */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#afefddced6e93c2422fc2da42b2ad426a">   89</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_SPLASH_DELAY    2000                        </span><span class="comment">/**&lt; Splash screen display time ms */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// Autoranging definitions.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a82f5508feef19ff73c800fa63f109785">   92</a></span>&#160;<span class="preprocessor">#define RAW_ADS_SPAN        0x8000                      </span><span class="comment">/**&lt; Span of A/D converter single ended */</span><span class="preprocessor"> </span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a5518b781e106babcb7313f6b437ef9d8">   93</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define RAW_HYSTERESIS      0x1000                      </span><span class="comment">/**&lt; Raw data hysteresis */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// A/D Converter range factors in V/bit.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#aa14a4c8ec4f998132104dfc8b1eb74c0">   96</a></span>&#160;<span class="preprocessor">#define VPB_SIXTEEN        0.0000078125                 </span><span class="comment">/**&lt; A/D gain 16x range factor V/bit */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a59ec1375915a5e2641afbe4c5c1d4218">   97</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define VPB_EIGHT          0.000015625                  </span><span class="comment">/**&lt; A/D gain 8x range factor V/bit */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a9bba800d13fe3f9e7af4fed3d1bfdba3">   98</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define VPB_FOUR           0.00003125                   </span><span class="comment">/**&lt; A/D gain 4x range factor V/bit */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a055dfe7b503a93637d3abb91b6a9e431">   99</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define VPB_TWO            0.0000625                    </span><span class="comment">/**&lt; A/D gain 2x range factor V/bit */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a9701b4659bb758ba7fdb43f2b5f45a86">  100</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define VPB_ONE            0.000125                     </span><span class="comment">/**&lt; A/D gain 1x range factor V/bit */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ade63f5ae94728d3dcd4440b1138caedc">  101</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define VPB_TWOTHIRDS      0.0001875                    </span><span class="comment">/**&lt; A/D gain 2/3x range factor V/bit */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">// LCD color definitions.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a4c5158f09c2314e3c1f73e3e88b901e8">  104</a></span>&#160;<span class="preprocessor">#define LCD_BK_COLOR        ILI9341_BLACK               </span><span class="comment">/**&lt; LCD background color */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a20ac1b7f748ee66b84c9da9c7a7dac83">  105</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_RES_COLOR       ILI9341_MAGENTA             </span><span class="comment">/**&lt; LCD color of resistance value */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a469c32de4b5c660eb466a71bff588fc0">  106</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_UNITS_COLOR     ILI9341_GREEN               </span><span class="comment">/**&lt; LCD color of resistance units */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a5cf0cef00d7bafe651eb5254a60078c0">  107</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_MSG_COLOR       ILI9341_YELLOW              </span><span class="comment">/**&lt; LCD color of messages */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a59c8f660f3a780fe2f5b9b898bf3cf93">  108</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_DATA_COLOR      ILI9341_CYAN                </span><span class="comment">/**&lt; LCD color of additional data */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">// LCD data layout definitions.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#abe3926e743bb120cf40aca069485cfbc">  111</a></span>&#160;<span class="preprocessor">#define LCD_RES_FONT_SIZE   10                          </span><span class="comment">/**&lt; Resistance font size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a69efaaa86f6ff31b944ceff71fb3078b">  112</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_YRES            (LCD_TOP+10)                </span><span class="comment">/**&lt; Resistance line Y-position */</span><span class="preprocessor">  </span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#acb5c8fc2c49ab6ab037bf2c66cb51f73">  114</a></span>&#160;<span class="preprocessor">#define LCD_UNITS_FONT_SIZE 4                           </span><span class="comment">/**&lt; Units font size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a162310da6e26a2200544308d9aa47ce1">  115</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_YUNITS          (LCD_YRES+9*LCD_RES_FONT_SIZE-5) </span><span class="comment">/**&lt; Units line Y-position */</span><span class="preprocessor">    </span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a5cf01db7e5d7265b4ca2ea385c1ee1f8">  117</a></span>&#160;<span class="preprocessor">#define LCD_DATA_FONT_SIZE  3                           </span><span class="comment">/**&lt; Data font size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#aec8805c4a43249b01bf58cb4160acdaf">  118</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_YLINE3          (LCD_YUNITS+9*LCD_UNITS_FONT_SIZE+5) </span><span class="comment">/**&lt; Data line 1 Y-position */</span><span class="preprocessor"> </span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ae607679401b8407a34a7cd246bd8387e">  119</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_YLINE4          (LCD_YLINE3+9*LCD_DATA_FONT_SIZE)  </span><span class="comment">/**&lt; Data line 1 Y-position */</span><span class="preprocessor"> </span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">// Battery management definitions.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a71566ede00702c88a0c626d2f35782bb">  122</a></span>&#160;<span class="preprocessor">#define BAT_VMINOP          3.0                         </span><span class="comment">/**&lt; Battery min operating voltage (V) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a8c66fd072ee7a3f9b5b7be72a0351404">  123</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_VCHARGED        4.2                         </span><span class="comment">/**&lt; Battery fully charged voltage (V) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ad90357703764877a0eec08abac71dc8a">  124</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_VDISCHARGED     2.4                         </span><span class="comment">/**&lt; Battery discharged voltage (V) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#acb593f1ad43b66eef1e93acb9057fcc1">  126</a></span>&#160;<span class="preprocessor">#define LCD_BAT_FONT_SIZE   3                           </span><span class="comment">/**&lt; Battery data font size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a87549c189db6f7b8cc97fa9ee9f98d63">  127</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_BAR_FONT_SIZE   2                           </span><span class="comment">/**&lt; Battery status indicator text font size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#aec794fb1a30fab00c5183a50fa80d014">  128</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_IND_TERML       5                           </span><span class="comment">/**&lt; Battery status indicator terminal length */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#acc24289352ffff57ab282b1fb9e6ef12">  129</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_IND_TERMH       10                          </span><span class="comment">/**&lt; Battery status indicator terminal height */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a9836f3a0ce97f51b9c5f3a0adc8c46bc">  131</a></span>&#160;<span class="preprocessor">#define BAT_IND_HEIGHT      24                          </span><span class="comment">/**&lt; Battery status indicator height */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a7ac7b6052eb27cdee6b812c249d68c33">  132</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_IND_LENGTH      (LCD_RIGHT-LCD_LEFT-8*6*LCD_BAT_FONT_SIZE-BAT_IND_TERML) </span><span class="comment">/**&lt; Battery status indicator length */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#afab1314910fe668b4afc28fcc3f09754">  133</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_IND_LEFT        (LCD_RIGHT-BAT_IND_LENGTH-BAT_IND_TERML)  </span><span class="comment">/**&lt; Battery status indicator left */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a020fda0f274deef2241954e73246aa55">  134</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_IND_TOP         (LCD_BOTTOM-BAT_IND_HEIGHT) </span><span class="comment">/**&lt; Battery status indicator top */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#define BAT_BAR_HEIGHT      (BAT_IND_HEIGHT-4)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_BAR_LENGTH      (BAT_IND_LENGTH-4)</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_BAR_LEFT        (BAT_IND_LEFT+2)</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_BAR_TOP         (BAT_IND_TOP+2)</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#define BAT_BAR_MIDX        (BAT_BAR_LEFT+BAT_BAR_LENGTH/2)</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_BAR_MIDY        (BAT_BAR_TOP+BAT_BAR_HEIGHT/2)</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#aa985706143663c2e9cf9b95dc0b734a5">  144</a></span>&#160;<span class="preprocessor">#define BAT_BAR_COLOR_BKG   ILI9341_YELLOW              </span><span class="comment">/**&lt; Battery status indicator background color */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a4169c962b2e922624a3a8eba3fc07712">  145</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_BAR_COLOR_FG    ILI9341_GREEN               </span><span class="comment">/**&lt; Battery status indicator bar color */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a65acb9d9d99ba9ad76455d3891c8ae43">  146</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_BAR_COLOR_LOW   ILI9341_RED                 </span><span class="comment">/**&lt; Battery status indicator danger color */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a20b73441cfa4db369f6c7b45ab80a8e8">  147</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_BAR_COLOR_BDR   0xFFFF                      </span><span class="comment">/**&lt; Battery status indicator border color */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a2ec054bbadfab5d194d228408835c9d5">  148</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BAT_SHOCKO_COLOR    ILI9341_BLACK               </span><span class="comment">/**&lt; Battery external power indicator color */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define SHOCKO_HEIGHT       (BAT_IND_HEIGHT-6) </span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a7ea707f0bf46a6eacbf329d0f679f2de">  151</a></span>&#160;<span class="preprocessor">#define LCD_YLINE_BAT       (LCD_BOTTOM-(BAT_IND_HEIGHT+LCD_BAT_FONT_SIZE*7)/2)  </span><span class="comment">/**&lt; Battery data line Y-position */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#abc9cda32a534a6cfa9b8f04ec59ca137">  152</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LCD_YLINE_BAR       (LCD_BOTTOM-(BAT_IND_HEIGHT+LCD_BAR_FONT_SIZE*7)/2)  </span><span class="comment">/**&lt; Battery data line Y-position */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// Enumerations</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70">  155</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70">Direction_t</a> {<a class="code" href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a3b0a8940f43b55bdb68441626d53c4eb">DIR_AS</a>,                               <span class="comment">/**&lt; Direction unchanged */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a0b76fb863426c07c6c997a8d9523257b">  156</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a0b76fb863426c07c6c997a8d9523257b">DIR_UP</a>,                               <span class="comment">/**&lt; Direction up/increase */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a21609bec4aa554678a79737a54898ebf">  157</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a21609bec4aa554678a79737a54898ebf">DIR_DN</a>                                <span class="comment">/**&lt; Direction down/decrease */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;};</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04">  160</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04">LcdTxtJust</a>  {<a class="code" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04af907644bfc06fc311e8a8a4fc00a1d51">LCD_TXT_LEFT</a>,                         <span class="comment">/**&lt; Text left justified */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04a89b673da8a2630acdecb117155e7e9ec">  161</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04a89b673da8a2630acdecb117155e7e9ec">LCD_TXT_CENTER</a>,                       <span class="comment">/**&lt; Text center justified */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04a6952cccf319aacc69aceb8384123260c">  162</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04a6952cccf319aacc69aceb8384123260c">LCD_TXT_RIGHT</a>                         <span class="comment">/**&lt; Text right justified */</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;};</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31">  165</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31">BatState</a>    {<a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31a60529e9ad7edcfbc6897fa6ed9b386ba">BAT_NORMAL</a>,                           <span class="comment">/**&lt; 2.4V &lt; Battery voltage &lt; 4.0V */</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31af5f8724b0b414fda9ae323a24483afdb">  166</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31af5f8724b0b414fda9ae323a24483afdb">BAT_EMPTY</a>,                            <span class="comment">/**&lt; 0V &lt; Battery voltage &lt; 2.4V */</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31a4bff899e65c1972307caef65c3417df8">  167</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31a4bff899e65c1972307caef65c3417df8">BAT_CHARGING</a>,                         <span class="comment">/**&lt; Sensed from charger */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31ad0f944d1dc55babf7c4a187a5d1d959b">  168</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31ad0f944d1dc55babf7c4a187a5d1d959b">BAT_FULL</a>,                             <span class="comment">/**&lt; Battery voltage &gt; 4.0V */</span></div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31ac60efe2cbbd01310e9de0e9a89fd351e">  169</a></span>&#160;                  <a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31ac60efe2cbbd01310e9de0e9a89fd351e">BAT_NONE</a>                              <span class="comment">/**&lt; No battery - voltage = 0V */</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;};</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">// Global object instantiations.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#abcf78d3507c47cf332263e5de5e88343">  173</a></span>&#160;Adafruit_ADS1115 <a class="code" href="_milli_ohm_meter_8h.html#abcf78d3507c47cf332263e5de5e88343">Ads1115</a>;                               <span class="comment">/**&lt; A/D converter instance */</span></div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a85bdf816692a27dfbd7bd6e1598129c5">  174</a></span>&#160;Adafruit_ILI9341 <a class="code" href="_milli_ohm_meter_8h.html#a85bdf816692a27dfbd7bd6e1598129c5">Lcd</a> =  </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;Adafruit_ILI9341(<a class="code" href="_milli_ohm_meter_8h.html#a50d72083b1ed4dd0bc2eaabb4a0332c8">LCD_CS_PIN</a>, <a class="code" href="_milli_ohm_meter_8h.html#a402d8ccd0bb0a6cc377222e75b8e050e">LCD_DC_PIN</a>, <a class="code" href="_milli_ohm_meter_8h.html#a9d11073f149e02e0a07937196d1e5a8e">LCD_RST_PIN</a>);  <span class="comment">/**&lt; LCD display instance */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">// Timers to manage task scheduling.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;TimerUp procTimer[] = {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    TimerUp(1000/<a class="code" href="_milli_ohm_meter_8h.html#a2cc4e9b539c897e2cb8c72332ea120f8">LCD_REFRESH_RATE</a>),                     <span class="comment">/**&lt; LCD refresh timer */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    TimerUp(1000/<a class="code" href="_milli_ohm_meter_8h.html#a0f4e1d51f12685a4471aab2361b7a1b8">RES_SAMPLE_RATE</a>),                      <span class="comment">/**&lt; Resistance sampling timer */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    TimerUp(1000/<a class="code" href="_milli_ohm_meter_8h.html#a747836b01fb5e3b3ce8d5a1a98c5a916">BAT_SAMPLE_RATE</a>)                       <span class="comment">/**&lt; Battery sampling timer */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;};                                                      </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">// Data digital filters.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;ExponentialFilter&lt;double&gt; <a class="code" href="_milli_ohm_meter_8h.html#ab6c428e049be0b92db8ed8654fae714b">resSFilter</a>(<a class="code" href="_milli_ohm_meter_8h.html#a7dddd43f2fe08d6832126d0ba1c8e114">FILTERWT_RESS</a>, 0); <span class="comment">/**&lt; Resistance soft digital filter */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;ExponentialFilter&lt;double&gt; <a class="code" href="_milli_ohm_meter_8h.html#a8c83f85c3cec43e6127ca0a88e81a15d">resHFilter</a>(<a class="code" href="_milli_ohm_meter_8h.html#a92584de1b7c70efb9de836df0e31be01">FILTERWT_RESH</a>, 0); <span class="comment">/**&lt; Resistance hard digital filter */</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;ExponentialFilter&lt;double&gt; <a class="code" href="_milli_ohm_meter_8h.html#a129d6de2c03e37f060d52107973d7dfd">devFilter</a>(<a class="code" href="_milli_ohm_meter_8h.html#ae3dabb4f439d147d5db3b83e85adf0b8">FILTERWT_DEV</a>, 0);   <span class="comment">/**&lt; Resistance deviation digital filter*/</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">// Global variables.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a4f27da488e499b695ab1a7b4cd523095">  190</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="_milli_ohm_meter_8h.html#a4f27da488e499b695ab1a7b4cd523095">dblBatV</a>;                                         <span class="comment">/**&lt; Battery voltage global */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="_milli_ohm_meter_8h.html#a75362633c8b1cc8476008cadc49f9670">  191</a></span>&#160;<a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31">BatState</a> <a class="code" href="_milli_ohm_meter_8h.html#a75362633c8b1cc8476008cadc49f9670">batteryStatus</a> = <a class="code" href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31a60529e9ad7edcfbc6897fa6ed9b386ba">BAT_NORMAL</a>;                    <span class="comment">/**&lt; Battery charge status global */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">#ifdef _DEBUG_</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor"></span>int16_t raw, rw;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;adsGain_t gn;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;ExponentialFilter&lt;int32_t&gt; rawFilter(<a class="code" href="_milli_ohm_meter_8h.html#a7dddd43f2fe08d6832126d0ba1c8e114">FILTERWT_RESS</a>, 0);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#endif // _DEBUG_</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_milli_ohm_meter_8h.html#a7b7f615acfa7c5c106532019b0bb84ed">writeLcdText</a>(<span class="keywordtype">char</span> *, int16_t, int16_t, uint8_t, <a class="code" href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04">LcdTxtJust</a>, uint16_t, <span class="keywordtype">boolean</span> = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#endif // _MILLIOHMMETER_H</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">// EOF MILLIOHMMETER.H</span></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ac8776b96d749ba6bdfb057c808e61d31a4bff899e65c1972307caef65c3417df8"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31a4bff899e65c1972307caef65c3417df8">BAT_CHARGING</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00167">MilliOhmMeter.h:167</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a402d8ccd0bb0a6cc377222e75b8e050e"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a402d8ccd0bb0a6cc377222e75b8e050e">LCD_DC_PIN</a></div><div class="ttdeci">#define LCD_DC_PIN</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00058">MilliOhmMeter.h:58</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ac8776b96d749ba6bdfb057c808e61d31"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31">BatState</a></div><div class="ttdeci">BatState</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00165">MilliOhmMeter.h:165</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a2e9ec086ba61b35cfc2439306cdfdd70a0b76fb863426c07c6c997a8d9523257b"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a0b76fb863426c07c6c997a8d9523257b">DIR_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00156">MilliOhmMeter.h:156</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a0f4e1d51f12685a4471aab2361b7a1b8"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a0f4e1d51f12685a4471aab2361b7a1b8">RES_SAMPLE_RATE</a></div><div class="ttdeci">#define RES_SAMPLE_RATE</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00070">MilliOhmMeter.h:70</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a75362633c8b1cc8476008cadc49f9670"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a75362633c8b1cc8476008cadc49f9670">batteryStatus</a></div><div class="ttdeci">BatState batteryStatus</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00191">MilliOhmMeter.h:191</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a4f27da488e499b695ab1a7b4cd523095"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a4f27da488e499b695ab1a7b4cd523095">dblBatV</a></div><div class="ttdeci">double dblBatV</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00190">MilliOhmMeter.h:190</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ab6c428e049be0b92db8ed8654fae714b"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ab6c428e049be0b92db8ed8654fae714b">resSFilter</a></div><div class="ttdeci">ExponentialFilter&lt; double &gt; resSFilter(FILTERWT_RESS, 0)</div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a2e9ec086ba61b35cfc2439306cdfdd70a21609bec4aa554678a79737a54898ebf"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a21609bec4aa554678a79737a54898ebf">DIR_DN</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00157">MilliOhmMeter.h:157</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a86946be575797b2acea8036d60addf04af907644bfc06fc311e8a8a4fc00a1d51"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04af907644bfc06fc311e8a8a4fc00a1d51">LCD_TXT_LEFT</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00160">MilliOhmMeter.h:160</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ac8776b96d749ba6bdfb057c808e61d31ac60efe2cbbd01310e9de0e9a89fd351e"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31ac60efe2cbbd01310e9de0e9a89fd351e">BAT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00169">MilliOhmMeter.h:169</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a86946be575797b2acea8036d60addf04a6952cccf319aacc69aceb8384123260c"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04a6952cccf319aacc69aceb8384123260c">LCD_TXT_RIGHT</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00162">MilliOhmMeter.h:162</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ac8776b96d749ba6bdfb057c808e61d31ad0f944d1dc55babf7c4a187a5d1d959b"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31ad0f944d1dc55babf7c4a187a5d1d959b">BAT_FULL</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00168">MilliOhmMeter.h:168</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a7dddd43f2fe08d6832126d0ba1c8e114"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a7dddd43f2fe08d6832126d0ba1c8e114">FILTERWT_RESS</a></div><div class="ttdeci">#define FILTERWT_RESS</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00065">MilliOhmMeter.h:65</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a8c83f85c3cec43e6127ca0a88e81a15d"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a8c83f85c3cec43e6127ca0a88e81a15d">resHFilter</a></div><div class="ttdeci">ExponentialFilter&lt; double &gt; resHFilter(FILTERWT_RESH, 0)</div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ac8776b96d749ba6bdfb057c808e61d31af5f8724b0b414fda9ae323a24483afdb"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31af5f8724b0b414fda9ae323a24483afdb">BAT_EMPTY</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00166">MilliOhmMeter.h:166</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a9d11073f149e02e0a07937196d1e5a8e"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a9d11073f149e02e0a07937196d1e5a8e">LCD_RST_PIN</a></div><div class="ttdeci">#define LCD_RST_PIN</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00059">MilliOhmMeter.h:59</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a2e9ec086ba61b35cfc2439306cdfdd70"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70">Direction_t</a></div><div class="ttdeci">Direction_t</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00155">MilliOhmMeter.h:155</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a2cc4e9b539c897e2cb8c72332ea120f8"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a2cc4e9b539c897e2cb8c72332ea120f8">LCD_REFRESH_RATE</a></div><div class="ttdeci">#define LCD_REFRESH_RATE</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00072">MilliOhmMeter.h:72</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_abcf78d3507c47cf332263e5de5e88343"><div class="ttname"><a href="_milli_ohm_meter_8h.html#abcf78d3507c47cf332263e5de5e88343">Ads1115</a></div><div class="ttdeci">Adafruit_ADS1115 Ads1115</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00173">MilliOhmMeter.h:173</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a2e9ec086ba61b35cfc2439306cdfdd70a3b0a8940f43b55bdb68441626d53c4eb"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a2e9ec086ba61b35cfc2439306cdfdd70a3b0a8940f43b55bdb68441626d53c4eb">DIR_AS</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00155">MilliOhmMeter.h:155</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a50d72083b1ed4dd0bc2eaabb4a0332c8"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a50d72083b1ed4dd0bc2eaabb4a0332c8">LCD_CS_PIN</a></div><div class="ttdeci">#define LCD_CS_PIN</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00060">MilliOhmMeter.h:60</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a86946be575797b2acea8036d60addf04"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04">LcdTxtJust</a></div><div class="ttdeci">LcdTxtJust</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00160">MilliOhmMeter.h:160</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ae3dabb4f439d147d5db3b83e85adf0b8"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ae3dabb4f439d147d5db3b83e85adf0b8">FILTERWT_DEV</a></div><div class="ttdeci">#define FILTERWT_DEV</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00067">MilliOhmMeter.h:67</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a85bdf816692a27dfbd7bd6e1598129c5"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a85bdf816692a27dfbd7bd6e1598129c5">Lcd</a></div><div class="ttdeci">Adafruit_ILI9341 Lcd</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00174">MilliOhmMeter.h:174</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a129d6de2c03e37f060d52107973d7dfd"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a129d6de2c03e37f060d52107973d7dfd">devFilter</a></div><div class="ttdeci">ExponentialFilter&lt; double &gt; devFilter(FILTERWT_DEV, 0)</div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a7b7f615acfa7c5c106532019b0bb84ed"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a7b7f615acfa7c5c106532019b0bb84ed">writeLcdText</a></div><div class="ttdeci">void writeLcdText(char *, int16_t, int16_t, uint8_t, LcdTxtJust, uint16_t, boolean=false)</div><div class="ttdoc">Writes a text string to the LCD. </div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8ino_source.html#l00414">MilliOhmMeter.ino:414</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a86946be575797b2acea8036d60addf04a89b673da8a2630acdecb117155e7e9ec"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a86946be575797b2acea8036d60addf04a89b673da8a2630acdecb117155e7e9ec">LCD_TXT_CENTER</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00161">MilliOhmMeter.h:161</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a747836b01fb5e3b3ce8d5a1a98c5a916"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a747836b01fb5e3b3ce8d5a1a98c5a916">BAT_SAMPLE_RATE</a></div><div class="ttdeci">#define BAT_SAMPLE_RATE</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00071">MilliOhmMeter.h:71</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_ac8776b96d749ba6bdfb057c808e61d31a60529e9ad7edcfbc6897fa6ed9b386ba"><div class="ttname"><a href="_milli_ohm_meter_8h.html#ac8776b96d749ba6bdfb057c808e61d31a60529e9ad7edcfbc6897fa6ed9b386ba">BAT_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00165">MilliOhmMeter.h:165</a></div></div>
<div class="ttc" id="_milli_ohm_meter_8h_html_a92584de1b7c70efb9de836df0e31be01"><div class="ttname"><a href="_milli_ohm_meter_8h.html#a92584de1b7c70efb9de836df0e31be01">FILTERWT_RESH</a></div><div class="ttdeci">#define FILTERWT_RESH</div><div class="ttdef"><b>Definition:</b> <a href="_milli_ohm_meter_8h_source.html#l00066">MilliOhmMeter.h:66</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 1 2017 19:23:23 for MilliOhmMeter by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
